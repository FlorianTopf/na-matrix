<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NA1-Matrix: views/SpacemissionCreateUpdate.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>views/SpacemissionCreateUpdate.php</h1>  </div>
</div>
<div class="contents">
<a href="_spacemission_create_update_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00008"></a><a class="code" href="_spacemission_create_update_8php.html#a8ffeec71c0a38e02334777abdce4d78c">00008</a> print <span class="stringliteral">&quot;&lt;div&gt;&lt;input type=&#39;hidden&#39; name=&#39;page&#39; value=&#39;add&#39;/&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a> ;
<a name="l00009"></a>00009 print <span class="stringliteral">&quot;&lt;input type=&#39;hidden&#39; name=&#39;add_res_id&#39; value=&#39;{$resource_id}&#39;/&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a> ;
<a name="l00010"></a>00010 print <span class="stringliteral">&quot;&lt;input type=&#39;hidden&#39; name=&#39;res_type&#39; value=&#39;{$resource_type}&#39;/&gt;&lt;/div&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a> ;
<a name="l00011"></a>00011 <span class="comment">//show_message();</span>
<a name="l00012"></a>00012 
<a name="l00013"></a><a class="code" href="_spacemission_create_update_8php.html#ae5e2df749a71df95c3ba09c795981167">00013</a> print <span class="stringliteral">&quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Space Mission General:&lt;/legend&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00014"></a>00014 print <span class="stringliteral">&quot;&lt;table class=&#39;create&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">//Space mission name - MANDATORY / CHECK IF THE NAME ALREADY EXISTS!</span>
<a name="l00018"></a><a class="code" href="_spacemission_create_update_8php.html#adc9922e4e09e61ca3ceb7240ca7136b1">00018</a> <span class="comment"></span><span class="keywordflow">if</span>($action == <span class="stringliteral">&quot;edit&quot;</span>)
<a name="l00019"></a><a class="code" href="_spacemission_create_update_8php.html#ab268809a08d643a17f81e622c4c9529f">00019</a>         <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Space Mission name&quot;</span>, <span class="stringliteral">&quot;update_spa_name&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_mission_name&quot;</span>), 80, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#ade8d845105c09b96f437a31d6f9d288d">TRUE</a>);
<a name="l00020"></a>00020 <span class="keywordflow">else</span>
<a name="l00021"></a>00021         <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Space Mission name&quot;</span>, <span class="stringliteral">&quot;add_spa_name&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_mission_name&quot;</span>), 80, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#ade8d845105c09b96f437a31d6f9d288d">TRUE</a>);
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">//Mission agency - MANDATORY</span>
<a name="l00024"></a><a class="code" href="_spacemission_create_update_8php.html#afdec3eba83e53f938bca356326641ba8">00024</a> <a class="code" href="_spacemission_create_update_8php.html#afdec3eba83e53f938bca356326641ba8">$agencies</a> = <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_agencies();
<a name="l00025"></a><a class="code" href="_spacemission_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">00025</a> <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array(<span class="stringliteral">&quot;&lt;option value=&#39;&#39;&gt;Please choose...&lt;/option&gt;&quot;</span>);
<a name="l00026"></a>00026 <a class="code" href="html_8php.html#a42be0a073414ec8550dfb52f5523a5a2">printSelectListRowFromArray</a>(<span class="stringliteral">&quot;Mission Agency&quot;</span>, <span class="stringliteral">&quot;add_spa_agency_id&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_mission_agency&quot;</span>),
<a name="l00027"></a>00027         <a class="code" href="_spacemission_create_update_8php.html#afdec3eba83e53f938bca356326641ba8">$agencies</a>, array(<span class="stringliteral">&quot;acronym&quot;</span>, <span class="stringliteral">&quot;name&quot;</span>), <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#ade8d845105c09b96f437a31d6f9d288d">TRUE</a>, <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">//Launch date - FORMAT: YYYY-MM-DD - MANDATORY</span>
<a name="l00030"></a>00030 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Launch Date&quot;</span>, <span class="stringliteral">&quot;add_spa_launch&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_launch_date&quot;</span>), 12, <span class="stringliteral">&quot;[YYYY-MM-DD]&quot;</span>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#ade8d845105c09b96f437a31d6f9d288d">TRUE</a>);
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">//Death date - FORMAT: YYYY-MM-DD</span>
<a name="l00033"></a>00033 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Death Date&quot;</span>, <span class="stringliteral">&quot;add_spa_death&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_death_date&quot;</span>), 12, <span class="stringliteral">&quot;[YYYY-MM-DD]&quot;</span>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, FALSE);
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">//Web address</span>
<a name="l00036"></a>00036 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Web address&quot;</span>, <span class="stringliteral">&quot;add_spa_web_address&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_web_address&quot;</span>), 80, <span class="stringliteral">&quot;[http://...]&quot;</span>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, FALSE);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">//Brief Description</span>
<a name="l00039"></a>00039 <a class="code" href="html_8php.html#a0c59d1bb5216484d470af452e045f4ad">printInputTextfieldRow</a>(<span class="stringliteral">&quot;Brief description&quot;</span>, <span class="stringliteral">&quot;add_spa_brief_desc&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_field(<span class="stringliteral">&quot;spa_brief_description&quot;</span>), 65);
<a name="l00040"></a>00040 print <span class="stringliteral">&quot;&lt;/table&gt;&lt;/fieldset&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">//RESEARCH AREAS - MANDATORY</span>
<a name="l00043"></a><a class="code" href="_spacemission_create_update_8php.html#a5ac55112280db0d12a7afc65d13348a3">00043</a> print <span class="stringliteral">&quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Research Areas:&lt;/legend&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00044"></a>00044 print <span class="stringliteral">&quot;&lt;table id=&#39;research_areas&#39; class=&#39;create&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00045"></a><a class="code" href="_spacemission_create_update_8php.html#ac16f01191bdaf3d8b16fe1c6d26c9c43">00045</a> <a class="code" href="_observatory_create_update_8php.html#ac16f01191bdaf3d8b16fe1c6d26c9c43">$research_areas</a> = <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_research_areas();
<a name="l00046"></a>00046 <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array(<span class="stringliteral">&quot;&lt;option value=&#39;&#39;&gt;Please choose one or several by holding CTRL...&lt;/option&gt;&quot;</span>,
<a name="l00047"></a>00047 <span class="stringliteral">&quot;&lt;option id=&#39;add_other_area&#39; value=&#39;100000&#39;&gt;Add other Research Area&lt;/option&gt;&quot;</span>);
<a name="l00048"></a>00048 <a class="code" href="html_8php.html#a929c5ea07c87fd238b3a8bf999def5d2">printBigSelectListFromArray</a>(<span class="stringliteral">&quot;Research Areas&quot;</span>, <span class="stringliteral">&quot;add_spa_res_are_ids[]&quot;</span>,
<a name="l00049"></a>00049         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;research_areas&quot;</span>), <a class="code" href="_observatory_create_update_8php.html#ac16f01191bdaf3d8b16fe1c6d26c9c43">$research_areas</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <a class="code" href="_observatory_create_update_8php.html#ade8d845105c09b96f437a31d6f9d288d">TRUE</a>, <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
<a name="l00050"></a>00050 print <span class="stringliteral">&quot;&lt;/table&gt;&lt;/fieldset&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="comment">//TARGETS - MANDATORY</span>
<a name="l00054"></a><a class="code" href="_spacemission_create_update_8php.html#ab64dcb9e25c3be3dafa709b9daf11091">00054</a> <span class="comment"></span>print <span class="stringliteral">&quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Targets:&lt;/legend&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00055"></a>00055 print <span class="stringliteral">&quot;&lt;table class=&#39;create&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00056"></a><a class="code" href="_spacemission_create_update_8php.html#a9a1a34b2d5552ae77e4a8dcb13a8b593">00056</a> <a class="code" href="_observatory_create_update_8php.html#a9a1a34b2d5552ae77e4a8dcb13a8b593">$targets</a> = <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_targets();
<a name="l00057"></a>00057 <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array(<span class="stringliteral">&quot;&lt;option value=&#39;&#39;&gt;Please choose one or several by holding CTRL...&lt;/option&gt;&quot;</span>);
<a name="l00058"></a>00058 <a class="code" href="html_8php.html#a929c5ea07c87fd238b3a8bf999def5d2">printBigSelectListFromArray</a>(<span class="stringliteral">&quot;Targets&quot;</span>, <span class="stringliteral">&quot;add_spa_target_ids[]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;targets&quot;</span>),
<a name="l00059"></a>00059         <a class="code" href="_observatory_create_update_8php.html#a9a1a34b2d5552ae77e4a8dcb13a8b593">$targets</a>, <span class="stringliteral">&quot;target_name&quot;</span>, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, FALSE, <a class="code" href="_observatory_create_update_8php.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
<a name="l00060"></a>00060 print <span class="stringliteral">&quot;&lt;/table&gt;&lt;/fieldset&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">//SENSORS</span>
<a name="l00063"></a>00063 <span class="comment">//getting all necessary science goals only calling this once</span>
<a name="l00064"></a><a class="code" href="_spacemission_create_update_8php.html#a8b3d06d60a1429dba0b441820430e041">00064</a> <a class="code" href="_spacemission_create_update_8php.html#a8b3d06d60a1429dba0b441820430e041">$science_goals</a> = <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_science_goals();
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="keywordflow">if</span>(!is_array(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;sensors&quot;</span>)))
<a name="l00067"></a>00067         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;init_has_many(<span class="stringliteral">&quot;sensors&quot;</span>);
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="keywordflow">if</span>(is_array(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;sensors&quot;</span>)))
<a name="l00070"></a>00070         <span class="keywordflow">foreach</span>(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;sensors&quot;</span>) as $sensor_count =&gt; $sensor_id)
<a name="l00071"></a>00071         {
<a name="l00073"></a>00073         <span class="comment">//TRANSPORT THE OLD NUMBER OF SENSORS VIA POST</span>
<a name="l00074"></a>00074         print <span class="stringliteral">&quot;&lt;input type=&#39;hidden&#39; name=&#39;add_spa_sensor_ids[&quot;</span> . $sensor_count . <span class="stringliteral">&quot;]&#39; value=&#39;&quot;</span>. $sensor_id . <span class="stringliteral">&quot;&#39;/&gt;&quot;</span>;
<a name="l00075"></a>00075         print <span class="stringliteral">&quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Sensor:&lt;/legend&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00076"></a>00076 
<a name="l00077"></a>00077                 <a class="code" href="html_8php.html#af4c125a2c33d28dc9c6fbdce767182d8">printAddRemoveButton</a>($sensor_count, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;sensors&quot;</span>), <span class="stringliteral">&quot;sensor&quot;</span>);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         print <span class="stringliteral">&quot;&lt;table class=&#39;create&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00082"></a>00082         <span class="comment">//TRANSPORT THE NUMBER OF SENSORS FOR JQUERY</span>
<a name="l00083"></a>00083         print <span class="stringliteral">&quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&#39;hidden&#39; name=&#39;sensors&#39; class=&#39;sensors&#39; value=&#39;&quot;</span>. count(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;sensors&quot;</span>, NULL)) . <span class="stringliteral">&quot;&#39;/&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <span class="comment">//Sensor Name:</span>
<a name="l00087"></a>00087 <span class="comment"></span>                <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Sensor name&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_name[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;sensor_name&quot;</span>, $sensor_count));
<a name="l00088"></a>00088         <span class="comment">//Sensor Type:</span>
<a name="l00089"></a>00089                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Sensor type&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_type[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;sensor_type&quot;</span>, $sensor_count));
<a name="l00090"></a>00090         <span class="comment">//Underlying Instrumentation:</span>
<a name="l00091"></a>00091                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Underlying Instrumentation&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_under[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;underlying&quot;</span>, $sensor_count));
<a name="l00092"></a>00092         <span class="comment">//Range begin: VALIDATION uses standard message</span>
<a name="l00093"></a>00093                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Range begin&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_range_beg[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;range_begin&quot;</span>, $sensor_count), 10, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <span class="stringliteral">&quot;number&quot;</span>);
<a name="l00094"></a>00094         <span class="comment">//Range end: VALIDATION uses standard message</span>
<a name="l00095"></a>00095                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Range end&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_range_end[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;range_end&quot;</span>, $sensor_count), 10, <a class="code" href="_observatory_create_update_8php.html#a56fa6ea98bf46fdf4fb391a44cbce589">NULL</a>, <span class="stringliteral">&quot;number&quot;</span>);
<a name="l00096"></a>00096         <span class="comment">//Units:</span>
<a name="l00097"></a>00097                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Units&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_units[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;units&quot;</span>, $sensor_count), 30);
<a name="l00098"></a>00098         <span class="comment">//Measured:</span>
<a name="l00099"></a>00099                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Measured&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_measured[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;measured&quot;</span>, $sensor_count), 60);
<a name="l00100"></a>00100         <span class="comment">//Resolution:</span>
<a name="l00101"></a>00101                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Resolution&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_resolution[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;resolution&quot;</span>, $sensor_count), 60);
<a name="l00102"></a>00102         <span class="comment">//Field of View:</span>
<a name="l00103"></a>00103                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Field of View&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_fov[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;field_of_view&quot;</span>, $sensor_count), 60);
<a name="l00104"></a>00104         <span class="comment">//Web address</span>
<a name="l00105"></a>00105                 <a class="code" href="html_8php.html#a2d22d5a12500405929b00079337538f0">printInputTextRow</a>(<span class="stringliteral">&quot;Web address&quot;</span>, <span class="stringliteral">&quot;add_spa_sen_web[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;web_address&quot;</span>, $sensor_count));
<a name="l00106"></a>00106         <span class="comment">//Sensor comments</span>
<a name="l00107"></a>00107                 <a class="code" href="html_8php.html#a0c59d1bb5216484d470af452e045f4ad">printInputTextfieldRow</a>(<span class="stringliteral">&quot;Sensor comments&quot;</span>, <span class="stringliteral">&quot;add_spa_sensor_com[{$sensor_count}]&quot;</span>, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_sensor(<span class="stringliteral">&quot;sensor_comments&quot;</span>, $sensor_count), 65);
<a name="l00108"></a>00108                 print <span class="stringliteral">&quot;&lt;/table&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110                 <span class="comment">//Science Goals - COMMENTED ATM BECAUSE STILL IN DISCUSSION</span>
<a name="l00111"></a>00111 <span class="comment">//                      print &quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Science Goals:&lt;/legend&gt;&quot; . LF;</span>
<a name="l00113"></a>00113 <span class="comment"></span><span class="comment">//                      print &quot;&lt;table class=&#39;science_goals create&#39;&gt;&quot; . LF;</span>
<a name="l00114"></a>00114 <span class="comment">//                      print &quot;&lt;tr&gt;&lt;td align=&#39;left&#39; valign=&#39;middle&#39; width=&#39;150px&#39;&gt;&quot; .</span>
<a name="l00115"></a>00115 <span class="comment">//                &quot;&lt;b class=&#39;red&#39;&gt;*&lt;/b&gt;&lt;b&gt;&amp;nbsp;Science Goals:&lt;/b&gt;&lt;/td&gt;&quot;;</span>
<a name="l00116"></a>00116 <span class="comment">//                      //print &quot;&lt;td align=&#39;left&#39;&gt;&lt;select name=&#39;add_spa_sci_goal_ids[]&#39; id=&#39;add_spa_sci_goal_ids[]&#39;&quot; .</span>
<a name="l00117"></a>00117 <span class="comment">//                      //print &quot;&lt;td align=&#39;left&#39;&gt;&lt;select name=&#39;add_spa_sci_goal_ids[&quot; . $sensor_count . &quot;][]&#39; id=&#39;add_spa_sci_goal_ids&#39;&quot; .</span>
<a name="l00118"></a>00118 <span class="comment">//                      print &quot;&lt;td align=&#39;left&#39;&gt;&lt;select name=&#39;add_spa_sci_goal_ids[&quot; . $sensor_count . &quot;][]&#39; &quot; .</span>
<a name="l00119"></a>00119 <span class="comment">//                                &quot;multiple=&#39;multiple&#39; size=&#39;6&#39;&gt;&quot; . LF;</span>
<a name="l00120"></a>00120 <span class="comment">//                      print &quot;&lt;option value=&#39;&#39;&gt;Please choose one or several by holding CTRL...&lt;/option&gt;&quot;;</span>
<a name="l00121"></a>00121 <span class="comment">//                      print &quot;&lt;option class=&#39;add_other_goal&#39; value=&#39;100000&#39;&gt;Add other Science Goal&lt;/option&gt;&quot;;</span>
<a name="l00122"></a>00122 <span class="comment">//                      foreach($science_goals[&#39;id&#39;] as $key =&gt; $value)</span>
<a name="l00123"></a>00123 <span class="comment">//                      {</span>
<a name="l00124"></a>00124 <span class="comment">//                              print &quot;&lt;option value=&#39;&quot; . $value . &quot;&#39;&quot;;</span>
<a name="l00125"></a>00125 <span class="comment">//                      if(is_array($_spacemission-&gt;get_has_many(&quot;science_goals&quot;, $sensor_id)))</span>
<a name="l00126"></a>00126 <span class="comment">//                              if (in_array($value, $_spacemission-&gt;get_has_many(&quot;science_goals&quot;, $sensor_id)))</span>
<a name="l00127"></a>00127 <span class="comment">//                                      print &quot; selected&quot;;</span>
<a name="l00128"></a>00128 <span class="comment">//                      print &quot;&gt;&quot; . $science_goals[&#39;name&#39;][$key] . &quot;&lt;/option&gt;&quot; . LF;</span>
<a name="l00129"></a>00129 <span class="comment">//                      }</span>
<a name="l00130"></a>00130 <span class="comment">//                      print &quot;&lt;/select&gt;&lt;/td&gt;&lt;/tr&gt;&quot; . LF;</span>
<a name="l00131"></a>00131 <span class="comment">//                      print &quot;&lt;/table&gt;&lt;/fieldset&gt;&quot; . LF;</span>
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         <span class="comment">//Scientific Contacts</span>
<a name="l00134"></a>00134         print <span class="stringliteral">&quot;&lt;fieldset class=&#39;rfield&#39;&gt;&lt;legend&gt;Scientific Contacts:&lt;/legend&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00135"></a>00135         <span class="comment">//print &quot;&lt;table class=&#39;create&#39;&gt;&quot; . LF;</span>
<a name="l00137"></a>00137 <span class="comment"></span>        print <span class="stringliteral">&quot;&lt;table class=&#39;scientific_contacts create&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00138"></a>00138         print <span class="stringliteral">&quot;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Email&lt;/th&gt;&lt;th&gt;Institution&lt;/th&gt;&lt;/tr&gt;&quot;</span>;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140                 <span class="keywordflow">if</span>(!is_array(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;scientific_contacts&quot;</span>, $sensor_id)))
<a name="l00141"></a>00141                         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;init_has_many(<span class="stringliteral">&quot;scientific_contacts&quot;</span>, $sensor_id);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143                 <span class="keywordflow">if</span>(is_array(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;scientific_contacts&quot;</span>, $sensor_id)))
<a name="l00144"></a>00144                         <span class="keywordflow">foreach</span>(<a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;scientific_contacts&quot;</span>, $sensor_id) as $contact_count =&gt; $contact_id)
<a name="l00145"></a>00145                         {
<a name="l00146"></a>00146                                 print <span class="stringliteral">&quot;&lt;tr&gt;&quot;</span>;
<a name="l00147"></a>00147                                 <a class="code" href="html_8php.html#af4c125a2c33d28dc9c6fbdce767182d8">printAddRemoveButton</a>($contact_count, <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_has_many(<span class="stringliteral">&quot;scientific_contacts&quot;</span>, $sensor_id), <span class="stringliteral">&quot;contact&quot;</span>, FALSE);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149                                 <a class="code" href="html_8php.html#a25c723f8cb17275d0813f2ea7c0c4db7">printInputTextCol</a>(<span class="stringliteral">&quot;add_spa_sci_con_name[{$sensor_count}][{$contact_count}]&quot;</span>,
<a name="l00150"></a>00150                                         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_scientific_contact(<span class="stringliteral">&quot;name&quot;</span>, $sensor_id, $contact_count), 30, <span class="stringliteral">&quot;align=&#39;center&#39;&quot;</span>);
<a name="l00151"></a>00151                                 <a class="code" href="html_8php.html#a25c723f8cb17275d0813f2ea7c0c4db7">printInputTextCol</a>(<span class="stringliteral">&quot;add_spa_sci_con_email[{$sensor_count}][{$contact_count}]&quot;</span>,
<a name="l00152"></a>00152                                         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_scientific_contact(<span class="stringliteral">&quot;email&quot;</span>, $sensor_id, $contact_count), 30, <span class="stringliteral">&quot;align=&#39;center&#39;&quot;</span>);
<a name="l00153"></a>00153                                 <a class="code" href="html_8php.html#a25c723f8cb17275d0813f2ea7c0c4db7">printInputTextCol</a>(<span class="stringliteral">&quot;add_spa_sci_con_institution[{$sensor_count}][{$contact_count}]&quot;</span>,
<a name="l00154"></a>00154                                         <a class="code" href="_spacemission_edit_all_old_8php.html#aa5f9ba793996fc658abdc590689be687">$_spacemission</a>-&gt;get_scientific_contact(<span class="stringliteral">&quot;institution&quot;</span>, $sensor_id, $contact_count), 30, <span class="stringliteral">&quot;align=&#39;center&#39;&quot;</span>);
<a name="l00155"></a>00155                 <span class="comment">//TRANSPORT THE OLD NUMBER OF SCIENTIFIC CONTACTS VIA POST</span>
<a name="l00156"></a>00156                 <span class="comment">//&quot;&lt;input type=&#39;hidden&#39; name=&#39;add_spa_sci_con_ids[&quot; . $sensor_count . &quot;][&quot; . $contact_count . &quot;]&#39; value=&#39;&quot;. $contact_id . &quot;&#39;/&gt;&quot; .</span>
<a name="l00157"></a>00157                                 print <span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>;
<a name="l00158"></a>00158                 }
<a name="l00159"></a>00159         print <span class="stringliteral">&quot;&lt;/table&gt;&lt;/fieldset&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00160"></a>00160         print <span class="stringliteral">&quot;&lt;/fieldset&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00161"></a>00161         }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">// Submit Button</span>
<a name="l00164"></a>00164 <span class="comment">//-----------------------------------------------------------------------------------------------------------</span>
<a name="l00165"></a>00165 <span class="comment">//printActionButton($action);</span>
<a name="l00166"></a>00166 <span class="comment">//Define the action buttons</span>
<a name="l00167"></a>00167 print <span class="stringliteral">&quot;&lt;div class=&#39;actionbutton&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00168"></a>00168 <span class="comment">//IF ACTION IS ADD</span>
<a name="l00169"></a>00169 <span class="keywordflow">if</span> ($action == <span class="stringliteral">&quot;add&quot;</span>)
<a name="l00170"></a>00170         print <span class="stringliteral">&quot;&lt;input type=&#39;submit&#39; name=&#39;push&#39; value=&#39;Add Entry&#39; class=&#39;submit&#39;/&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00171"></a>00171 <span class="comment">//IF ACTION IS loadOldObs</span>
<a name="l00172"></a>00172 <span class="keywordflow">else</span> <span class="keywordflow">if</span>($action == <span class="stringliteral">&quot;loadOldSpa&quot;</span>)
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174         print <span class="stringliteral">&quot;&lt;input type=&#39;hidden&#39; name=&#39;is_old_res&#39; value=&#39;1&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a> ;
<a name="l00175"></a>00175         print <span class="stringliteral">&quot;&lt;input type=&#39;submit&#39; name=&#39;push&#39; value=&#39;Add Entry&#39; class=&#39;submit&#39;&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 <span class="comment">//IF ACTION IS EDIT</span>
<a name="l00178"></a>00178 <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($action == <span class="stringliteral">&quot;edit&quot;</span>)
<a name="l00179"></a>00179         print <span class="stringliteral">&quot;&lt;input type=&#39;submit&#39; name=&#39;push&#39; value=&#39;Update Entry&#39;/&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00180"></a>00180 print <span class="stringliteral">&quot;&lt;/div&gt;&quot;</span> . <a class="code" href="account_8php.html#a4eabf75216feae504d36fd083bc0eb3d">LF</a>;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jul 28 2011 16:03:23 for NA1-Matrix by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
